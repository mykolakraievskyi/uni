<div class="flex">
  <mat-button-toggle-group [(value)]="chosenType">
    <mat-button-toggle [value]="type.Probability"
      >Результуюче оцінювання ризиків
    </mat-button-toggle>
    <mat-button-toggle [value]="type.Evaluation"
      >Результуюча величина ризиків</mat-button-toggle
    >
  </mat-button-toggle-group>
</div>

@if(chosenType == type.Probability) {
<table mat-table [dataSource]="data">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>Номер</th>
    <td mat-cell *matCellDef="let row">{{ row.id }}</td>
  </ng-container>
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Можливі ризикові події</th>
    <td mat-cell *matCellDef="let row">{{ row.name | capitalize }}</td>
  </ng-container>

  @for(i of [0,1,2,3,4,5,6,7,8,9]; track i) {
  <ng-container [matColumnDef]="'erper' + i">
    <th mat-header-cell *matHeaderCellDef>erper {{ i }}</th>
    <td mat-cell *matCellDef="let row">
      <input
        class="number-input"
        [(ngModel)]="row.erper[i]"
        (change)="recalculate()"
        appUkrainianNumber
      />
    </td>
  </ng-container>
  }
  <ng-container matColumnDef="erer">
    <th mat-header-cell *matHeaderCellDef>Erer</th>
    <td mat-cell *matCellDef="let row">{{ row.erer }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
</table>
} @if(chosenType == type.Evaluation) {
<table mat-table [dataSource]="data">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>Номер</th>
    <td mat-cell *matCellDef="let row">{{ row.id }}</td>
  </ng-container>
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Можливі ризикові події</th>
    <td mat-cell *matCellDef="let row">{{ row.name | capitalize }}</td>
  </ng-container>

  <ng-container matColumnDef="erer">
    <th mat-header-cell *matHeaderCellDef>Erer</th>
    <td mat-cell *matCellDef="let row">{{ row.erer }}</td>
  </ng-container>

  <ng-container matColumnDef="elrer">
    <th mat-header-cell *matHeaderCellDef>Lrer</th>
    <td mat-cell *matCellDef="let row">{{ row.elrer }}</td>
  </ng-container>
  <ng-container matColumnDef="evrer">
    <th mat-header-cell *matHeaderCellDef>Vrer</th>
    <td mat-cell *matCellDef="let row">{{ row.evrer }}</td>
  </ng-container>
  <ng-container matColumnDef="priority">
    <th mat-header-cell *matHeaderCellDef>Пріоритет</th>
    <td mat-cell *matCellDef="let row">{{ getPriority(row.evrer) }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplayEvaluation"></tr>
  <tr mat-row *matRowDef="let row; columns: columnsToDisplayEvaluation"></tr>
</table>
}
